
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://pages.github.com/sapcc/netbox-plugin-extended-clusters/dev/dev_environment/">
      
      
        <link rel="prev" href="../contributing/">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.2, mkdocs-material-9.2.7">
    
    
      
        <title>Development Environment - Extended Clusters - A Netbox Plugin - Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#building-your-development-environment" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Extended Clusters - A Netbox Plugin - Documentation" class="md-header__button md-logo" aria-label="Extended Clusters - A Netbox Plugin - Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v64c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1-48 0zM64 288c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64v-64c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1-48 0z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Extended Clusters - A Netbox Plugin - Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Development Environment
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="teal"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/sapcc/netbox-plugin-extended-clusters" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    sapcc/netbox-plugin-extended-clusters
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Extended Clusters - A Netbox Plugin - Documentation" class="md-nav__button md-logo" aria-label="Extended Clusters - A Netbox Plugin - Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M64 32C28.7 32 0 60.7 0 96v64c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm48 24a24 24 0 1 1 48 0 24 24 0 1 1-48 0zM64 288c-35.3 0-64 28.7-64 64v64c0 35.3 28.7 64 64 64h384c35.3 0 64-28.7 64-64v-64c0-35.3-28.7-64-64-64H64zm280 72a24 24 0 1 1 0 48 24 24 0 1 1 0-48zm56 24a24 24 0 1 1 48 0 24 24 0 1 1-48 0z"/></svg>

    </a>
    Extended Clusters - A Netbox Plugin - Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/sapcc/netbox-plugin-extended-clusters" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    sapcc/netbox-plugin-extended-clusters
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Administrator Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Administrator Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../admin/install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install and Configure
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../admin/upgrade/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upgrade
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../admin/uninstall/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Uninstall
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../admin/release_notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../admin/release_notes/version_0.9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    v0.9
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Developer Guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Developer Guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../extending/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending the Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../contributing/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing to the Plugin
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Development Environment
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Development Environment
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#quickstart-guide" class="md-nav__link">
    Quickstart Guide
  </a>
  
    <nav class="md-nav" aria-label="Quickstart Guide">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#invoke" class="md-nav__link">
    Invoke
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-development-environment" class="md-nav__link">
    Docker Development Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#local-poetry-development-environment" class="md-nav__link">
    Local Poetry Development Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-the-documentation" class="md-nav__link">
    Updating the Documentation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cli-helper-commands" class="md-nav__link">
    CLI Helper Commands
  </a>
  
    <nav class="md-nav" aria-label="CLI Helper Commands">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#local-development-environment" class="md-nav__link">
    Local Development Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utility" class="md-nav__link">
    Utility
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#project-overview" class="md-nav__link">
    Project Overview
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#poetry" class="md-nav__link">
    Poetry
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#full-docker-development-environment" class="md-nav__link">
    Full Docker Development Environment
  </a>
  
    <nav class="md-nav" aria-label="Full Docker Development Environment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#copy-the-credentials-file-for-the-app" class="md-nav__link">
    Copy the credentials file for the app
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-docker-image" class="md-nav__link">
    Building the Docker Image
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#starting-the-development-environment" class="md-nav__link">
    Starting the Development Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-superuser" class="md-nav__link">
    Creating a Superuser
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#invoke-stopping-the-development-environment" class="md-nav__link">
    Invoke - Stopping the Development Environment
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#real-time-updates-how-cool" class="md-nav__link">
    Real-Time Updates? How Cool
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#docker-logs" class="md-nav__link">
    Docker Logs
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#to-rebuild-or-not-to-rebuild" class="md-nav__link">
    To Rebuild or Not to Rebuild
  </a>
  
    <nav class="md-nav" aria-label="To Rebuild or Not to Rebuild">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-environment-variables" class="md-nav__link">
    Updating Environment Variables
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-additional-python-packages" class="md-nav__link">
    Installing Additional Python Packages
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-python-version" class="md-nav__link">
    Updating Python Version
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-miscellaneous-commands-to-know" class="md-nav__link">
    Other Miscellaneous Commands To Know
  </a>
  
    <nav class="md-nav" aria-label="Other Miscellaneous Commands To Know">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shell" class="md-nav__link">
    Shell
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="building-your-development-environment">Building Your Development Environment</h1>
<h2 id="quickstart-guide">Quickstart Guide</h2>
<p>The development environment can be used in two ways:</p>
<ol>
<li><strong>(Recommended)</strong> All services, including the Django Plugin, are spun up using Docker containers and a volume mount so you can develop locally.</li>
<li>With a local Poetry environment if you wish to develop outside of Docker, with the caveat of using external services provided by Docker for the PostgreSQL database service.</li>
</ol>
<p>This is a quick reference guide if you're already familiar with the development environment provided, which you can read more about later in this document.</p>
<h3 id="invoke">Invoke</h3>
<p>The <a href="http://www.pyinvoke.org/">Invoke</a> library is used to provide some helper commands based on the environment. There are a few configuration parameters which can be passed to Invoke to override the default configuration:</p>
<ul>
<li><code>project_name</code>: the default docker compose project name (default: <code>wmf</code>)</li>
<li><code>python_ver</code>: the version of Python to use as a base for any built docker containers (default: 3.8)</li>
<li><code>local</code>: a boolean flag indicating if invoke tasks should be run on the host or inside the docker containers (default: False, commands will be run in docker containers)</li>
<li><code>compose_dir</code>: the full path to a directory containing the project compose files</li>
<li><code>compose_files</code>: a list of compose files applied in order (see <a href="https://docs.docker.com/compose/extends/#multiple-compose-files">Multiple Compose files</a> for more information)</li>
</ul>
<p>Using <strong>Invoke</strong> these configuration options can be overridden using <a href="https://docs.pyinvoke.org/en/stable/concepts/configuration.html">several methods</a>. Perhaps the simplest is setting an environment variable <code>INVOKE_WMF_VARIABLE_NAME</code> where <code>VARIABLE_NAME</code> is the variable you are trying to override. The only exception is <code>compose_files</code>, because it is a list it must be overridden in a YAML file. There is an example <code>invoke.yml</code> (<code>invoke.example.yml</code>) in this directory which can be used as a starting point.</p>
<h3 id="docker-development-environment">Docker Development Environment</h3>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>This is the recommended option for development.</p>
</div>
<p>This project is managed by <a href="https://python-poetry.org/">Python Poetry</a> and has a few requirements to setup your development environment:</p>
<ol>
<li>Install Poetry, see the <a href="https://python-poetry.org/docs/#installation">Poetry Documentation</a> for your operating system.</li>
<li>Install Docker, see the <a href="https://docs.docker.com/get-docker/">Docker documentation</a> for your operating system.</li>
</ol>
<p>Once you have Poetry and Docker installed you can run the following commands (in the root of the repository) to install all other development dependencies in an isolated Python virtual environment:</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>shell
poetry<span class="w"> </span>install
cp<span class="w"> </span>development/creds.example.env<span class="w"> </span>development/creds.env
invoke<span class="w"> </span>build
invoke<span class="w"> </span>start
</code></pre></div>
<p>The Django app can now be accessed at <a href="http://localhost:8080">http://localhost:8080</a> and the live documentation at <a href="http://localhost:8001">http://localhost:8001</a>.</p>
<p>To either stop or destroy the development environment use the following options.</p>
<ul>
<li><strong>invoke stop</strong> - Stop the containers, but keep all underlying systems intact</li>
<li><strong>invoke destroy</strong> - Stop and remove all containers, volumes, etc. (This results in data loss due to the volume being deleted)</li>
</ul>
<h3 id="local-poetry-development-environment">Local Poetry Development Environment</h3>
<ul>
<li>Create an <code>invoke.yml</code> file with the following contents at the root of the repo and edit as necessary</li>
</ul>
<p>Run the following commands:</p>
<div class="highlight"><pre><span></span><code>poetry<span class="w"> </span>shell
poetry<span class="w"> </span>install
<span class="nb">export</span><span class="w"> </span><span class="k">$(</span>cat<span class="w"> </span>development/dev.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="k">)</span>
<span class="nb">export</span><span class="w"> </span><span class="k">$(</span>cat<span class="w"> </span>development/creds.env<span class="w"> </span><span class="p">|</span><span class="w"> </span>xargs<span class="k">)</span>
invoke<span class="w"> </span>start<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>sleep<span class="w"> </span><span class="m">5</span>
python<span class="w"> </span>manage.py<span class="w"> </span>migrate
</code></pre></div>
<p>You can now run <code>python manage.py</code> commands as you would from the <a href="https://docs.djangoproject.com">Django documentation</a> for example to start the development server:</p>
<div class="highlight"><pre><span></span><code>python<span class="w"> </span>manage.py<span class="w"> </span>runserver<span class="w"> </span><span class="m">0</span>.0.0.0:8080<span class="w"> </span>--insecure
</code></pre></div>
<p>The Django app can now be accessed at <a href="http://localhost:8080">http://localhost:8080</a>.</p>
<p>It is typically recommended to launch the <strong>runserver</strong> command in a separate shell so you can keep developing and manage the webserver separately.</p>
<h3 id="updating-the-documentation">Updating the Documentation</h3>
<p>Documentation dependencies are pinned to exact versions to ensure consistent results. For the development environment, they are defined in the <code>pyproject.toml</code> file.</p>
<h3 id="cli-helper-commands">CLI Helper Commands</h3>
<p>The project features a CLI helper based on <a href="https://www.pyinvoke.org/">Invoke</a> to help setup the development environment. The commands are listed below in 3 categories:</p>
<ul>
<li><code>dev environment</code></li>
<li><code>utility</code></li>
</ul>
<!-- - `testing` -->

<p>Each command can be executed with <code>invoke &lt;command&gt;</code>. All commands support the arguments <code>--python-ver</code> if you want to manually define the version of Python to use. Each command also has its own help <code>invoke &lt;command&gt; --help</code></p>
<h4 id="local-development-environment">Local Development Environment</h4>
<div class="highlight"><pre><span></span><code>  build            Build all docker images.
  debug            Start the app and its dependencies in debug mode.
  destroy          Destroy all containers and volumes.
  restart          Restart the app and its dependencies in detached mode.
  start            Start the app and its dependencies in detached mode.
  stop             Stop the app and its dependencies.
</code></pre></div>
<h4 id="utility">Utility</h4>
<div class="highlight"><pre><span></span><code>  cli              Launch a zsh shell inside the running plugin container.
  create-user      Create a new user in django (default: admin), will prompt for password.
  makemigrations   Run Make Migration in Django.
  migrate          Run Migrations in Django.
</code></pre></div>
<h2 id="project-overview">Project Overview</h2>
<p>This project provides the ability to develop and manage the app server locally (with supporting services being <em>Dockerised</em>) or by using only Docker containers to manage the app. The main difference between the two environments is the ability to debug and use <strong>pdb</strong> when developing locally. Debugging with <strong>pdb</strong> within the Docker container is more complicated, but can still be accomplished by either entering into the container (via <code>docker exec</code>) or attaching your IDE to the container and running the the app service manually within the container.</p>
<p>The upside to having the app service handled by Docker rather than locally is that you do not have to manage the app server. The <a href="#docker-logs">Docker logs</a> provide the majority of the information you will need to help troubleshoot, while getting started quickly and not requiring you to perform several manual steps and remembering to have the app server running in a separate terminal while you develop.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
</div>
<p>The local environment still uses Docker containers for the supporting services (Postgres, Redis, and RQ Worker), but the Django Plugin server is handled locally by you, the developer.</p>
<p>Follow the directions below for the specific development environment that you choose.</p>
<h2 id="poetry">Poetry</h2>
<p>Poetry is used in lieu of the "virtualenv" commands and is leveraged in both environments. The virtual environment will provide all of the Python packages required to manage the development environment such as <strong>Invoke</strong>. See the <a href="#local-poetry-development-environment">Local Development Environment</a> section to see how to install the app if you're going to be developing locally (i.e. not using the Docker container).</p>
<p>The <code>pyproject.toml</code> file outlines all of the relevant dependencies for the project:</p>
<ul>
<li><code>tool.poetry.dependencies</code> - the main list of dependencies.</li>
<li><code>tool.poetry.dev-dependencies</code> - development dependencies, to facilitate linting, testing, and documentation building.</li>
</ul>
<p>The <code>poetry shell</code> command is used to create and enable a virtual environment managed by Poetry, so all commands ran going forward are executed within the virtual environment. This is similar to running the <code>source venv/bin/activate</code> command with virtualenvs. To install project dependencies in the virtual environment, you should run <code>poetry install</code> - this will install <strong>both</strong> project and development dependencies.</p>
<p>For more details about Poetry and its commands please check out its <a href="https://python-poetry.org/docs/">online documentation</a>.</p>
<h2 id="full-docker-development-environment">Full Docker Development Environment</h2>
<p>This project is set up with a number of <strong>Invoke</strong> tasks consumed as simple CLI commands to get developing fast. You'll use a few <code>invoke</code> commands to get your environment up and running.</p>
<h3 id="copy-the-credentials-file-for-the-app">Copy the credentials file for the app</h3>
<p>First, you need to create the <code>development/creds.env</code> file - it stores a bunch of private information such as passwords and tokens for your local the app install. You can make a copy of the <code>development/creds.example.env</code> and modify it to suit you.</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>development/creds.example.env<span class="w"> </span>development/creds.env
</code></pre></div>
<h3 id="building-the-docker-image">Building the Docker Image</h3>
<p>The first thing you need to do is build the necessary Docker image for the app that installs the specific <code>python_ver</code>. The image is used for django and the docs used by Docker Compose.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>invoke<span class="w"> </span>build
...<span class="w"> </span>&lt;omitted<span class="w"> </span><span class="k">for</span><span class="w"> </span>brevity&gt;
<span class="c1">#19 exporting to image</span>
<span class="c1">#19 exporting layers</span>
<span class="c1">#19 exporting layers 2.5s done</span>
<span class="c1">#19 writing image sha256:5e1e326448501f8769f575ff0b61240c6fd09ca8b5a1291b969833b459f5c881 done</span>
<span class="c1">#19 naming to docker.io/library/ext-cluster-ui</span>
<span class="c1">#19 naming to docker.io/library/ext-cluster-ui done</span>
<span class="c1">#19 DONE 2.5s</span>
</code></pre></div>
<h3 id="starting-the-development-environment">Starting the Development Environment</h3>
<p>Next, you need to start up your Docker containers.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>invoke<span class="w"> </span>start
Starting<span class="w"> </span>Netbox<span class="w"> </span><span class="k">in</span><span class="w"> </span>detached<span class="w"> </span>mode...
Running<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="s2">&quot;up --detach&quot;</span>
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-redis<span class="w">  </span>Recreate
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Recreate
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-docs<span class="w">  </span>Recreate
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-redis<span class="w">  </span>Recreated
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Recreated
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-ui<span class="w">  </span>Recreate
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-docs<span class="w">  </span>Recreated
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-ui<span class="w">  </span>Recreated
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-redis<span class="w">  </span>Starting
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Starting
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-docs<span class="w">  </span>Starting
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-redis<span class="w">  </span>Started
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Started
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Waiting
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-docs<span class="w">  </span>Started
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Healthy
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-ui<span class="w">  </span>Starting
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-ui<span class="w">  </span>Started
</code></pre></div>
<p>This will start all of the Docker containers used for hosting the app. You should see the following containers running after <code>invoke start</code> is finished.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>docker<span class="w"> </span>ps
CONTAINER<span class="w"> </span>ID<span class="w">   </span>IMAGE<span class="w">                </span>COMMAND<span class="w">                  </span>CREATED<span class="w">          </span>STATUS<span class="w">                    </span>PORTS<span class="w">                    </span>NAMES
b39a80476277<span class="w">   </span>ext-cluster-ui<span class="w">      </span><span class="s2">&quot;/opt/entrypoint.sh&quot;</span><span class="w">     </span><span class="m">18</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span><span class="m">6</span><span class="w"> </span>seconds<span class="w">              </span><span class="m">0</span>.0.0.0:8080-&gt;8080/tcp<span class="w">   </span>ext-cluster-ui
100632ca4f42<span class="w">   </span>ext-cluster-ui<span class="w">      </span><span class="s2">&quot;mkdocs serve -v -a …&quot;</span><span class="w">   </span><span class="m">18</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span><span class="m">17</span><span class="w"> </span>seconds<span class="w">             </span><span class="m">0</span>.0.0.0:8001-&gt;8001/tcp<span class="w">   </span>ext-cluster-docs
21492abea2f6<span class="w">   </span>postgres:14-alpine<span class="w">   </span><span class="s2">&quot;docker-entrypoint.s…&quot;</span><span class="w">   </span><span class="m">18</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span><span class="m">17</span><span class="w"> </span>seconds<span class="w"> </span><span class="o">(</span>healthy<span class="o">)</span><span class="w">   </span><span class="m">0</span>.0.0.0:5432-&gt;5432/tcp<span class="w">   </span>ext-cluster-db
a620e0c82e6d<span class="w">   </span>redis:7-alpine<span class="w">       </span><span class="s2">&quot;docker-entrypoint.s…&quot;</span><span class="w">   </span><span class="m">18</span><span class="w"> </span>seconds<span class="w"> </span>ago<span class="w">   </span>Up<span class="w"> </span><span class="m">17</span><span class="w"> </span>seconds<span class="w">             </span><span class="m">0</span>.0.0.0:6379-&gt;6379/tcp<span class="w">   </span>ext-cluster-redis
</code></pre></div>
<p>Once the containers are fully up, you should be able to open up a web browser, and view:</p>
<ul>
<li>The app homepage at <a href="http://localhost:8080">http://localhost:8080</a></li>
<li>A live version of the documentation at <a href="http://localhost:8001">http://localhost:8001</a></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Sometimes the containers take a minute or two, to fully spin up. If the page doesn't load right away, wait a minute and try again.</p>
</div>
<h3 id="creating-a-superuser">Creating a Superuser</h3>
<p>If you need to create a superuser, run the follow commands.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>invoke<span class="w"> </span>createsuperuser
Running<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="s2">&quot;ps --services --filter status=running&quot;</span>
Running<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="s2">&quot;exec ext-cluster-ui python /opt/netbox/netbox/manage.py createsuperuser --username admin&quot;</span>
Email<span class="w"> </span>address:<span class="w"> </span>email@example.com
Password<span class="w"> </span><span class="o">(</span>again<span class="o">)</span>:
Superuser<span class="w"> </span>created<span class="w"> </span>successfully.
</code></pre></div>
<h3 id="invoke-stopping-the-development-environment">Invoke - Stopping the Development Environment</h3>
<p>The last command to know for now is <code>invoke stop</code>.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>invoke<span class="w"> </span>stop
Stopping<span class="w"> </span>Netbox...
Running<span class="w"> </span>docker-compose<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="s2">&quot;down&quot;</span>
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-ui<span class="w">  </span>Stopping
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-docs<span class="w">  </span>Stopping
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-ui<span class="w">  </span>Stopped
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-ui<span class="w">  </span>Removing
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-ui<span class="w">  </span>Removed
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Stopping
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-redis<span class="w">  </span>Stopping
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Stopped
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Removing
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-db<span class="w">  </span>Removed
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-redis<span class="w">  </span>Stopped
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-redis<span class="w">  </span>Removing
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-redis<span class="w">  </span>Removed
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-docs<span class="w">  </span>Stopped
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-docs<span class="w">  </span>Removing
<span class="w"> </span>Container<span class="w"> </span>ext-cluster-docs<span class="w">  </span>Removed
<span class="w"> </span>Network<span class="w"> </span>netbox_plugin_extended_clusters_default<span class="w">  </span>Removing
<span class="w"> </span>Network<span class="w"> </span>netbox_plugin_extended_clusters_default<span class="w">  </span>Removed
</code></pre></div>
<p>This will safely shut down all of your running Docker containers for this project. When you are ready to spin containers back up, it is as simple as running <code>invoke start</code> again <a href="#starting-the-development-environment">as seen previously</a>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you're wanting to reset the database and configuration settings, you can use the <code>invoke destroy</code> command, but <strong>you will lose any data stored in those containers</strong>, so make sure that is what you want to do.</p>
</div>
<h3 id="real-time-updates-how-cool">Real-Time Updates? How Cool</h3>
<p>Your environment should now be fully setup, all necessary Docker containers are created and running, and you're logged into the app in your web browser. Now what?</p>
<p>Now you can start developing  in the project folder!</p>
<p>The magic here is the root directory is mounted inside your Docker containers when built and ran, so <strong>any</strong> changes made to the files in here are directly updated to the app plugin code running in Docker. This means that as you modify the code in your plugin folder, the changes will be instantly updated in the app.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>There are a few exceptions to this, as outlined in the section <a href="#to-rebuild-or-not-to-rebuild">To Rebuild or Not To Rebuild</a>.</p>
</div>
<p>The back-end Django process is setup to automatically reload itself (it only takes a couple of seconds) every time a file is updated (saved). So for example, if you were to update one of the files like <code>models.py</code>, then save it, the changes will be visible right away in the web browser!</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>You may get connection refused while Django reloads, but it should be refreshed fairly quickly.</p>
</div>
<h3 id="docker-logs">Docker Logs</h3>
<p>When trying to debug an issue, one helpful thing you can look at are the logs within the Docker containers.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>docker<span class="w"> </span>logs<span class="w"> </span>&lt;name<span class="w"> </span>of<span class="w"> </span>container&gt;<span class="w"> </span>-f
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The <code>-f</code> tag will keep the logs open, and output them in realtime as they are generated.</p>
</div>
<p>So for example, our plugin is named <code>customer_clusters</code>, the command would most likely be <code>docker logs customer-clusters-ui -f</code>. You can find the name of all running containers via <code>docker ps</code>.</p>
<p>If you want to view the logs specific to the database container, simply use the name of that container instead.</p>
<h2 id="to-rebuild-or-not-to-rebuild">To Rebuild or Not to Rebuild</h2>
<p>Most of the time, you will not need to rebuild your images. Simply running <code>invoke start</code> and <code>invoke stop</code> is enough to keep your environment going.</p>
<p>However there are a couple of instances when you will want to.</p>
<h3 id="updating-environment-variables">Updating Environment Variables</h3>
<p>To add environment variables to your containers, thus allowing the app to use them, you will update/add them in the <code>development/development.env</code> file. However, doing so is considered updating the underlying container shell, instead of Django (which auto restarts itself on changes).</p>
<p>To get new environment variables to take effect, you will need stop any running images, rebuild the images, then restart them. This can easily be done with 3 commands:</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>invoke<span class="w"> </span>stop
➜<span class="w"> </span>invoke<span class="w"> </span>build
➜<span class="w"> </span>invoke<span class="w"> </span>start
</code></pre></div>
<p>Once completed, the new/updated environment variables should now be live.</p>
<h3 id="installing-additional-python-packages">Installing Additional Python Packages</h3>
<p>If you want your plugin to leverage another Python package, you can easily add them into your Docker environment.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>poetry<span class="w"> </span>shell
➜<span class="w"> </span>poetry<span class="w"> </span>add<span class="w"> </span>&lt;package_name&gt;
</code></pre></div>
<p>Once the dependencies are resolved, stop the existing containers, rebuild the Docker image, and then start all containers again.</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>invoke<span class="w"> </span>stop
➜<span class="w"> </span>invoke<span class="w"> </span>build
➜<span class="w"> </span>invoke<span class="w"> </span>start
</code></pre></div>
<h3 id="updating-python-version">Updating Python Version</h3>
<p>To update the Python version, you can update it within <code>tasks.py</code>.</p>
<div class="highlight"><pre><span></span><code><span class="n">namespace</span> <span class="o">=</span> <span class="n">Collection</span><span class="p">(</span><span class="s2">&quot;wmf&quot;</span><span class="p">)</span>
<span class="n">namespace</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span>
    <span class="p">{</span>
        <span class="s2">&quot;wmf&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="o">...</span>
            <span class="s2">&quot;python_ver&quot;</span><span class="p">:</span> <span class="s2">&quot;3.10&quot;</span><span class="p">,</span>
     <span class="o">...</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">)</span>
</code></pre></div>
<h2 id="other-miscellaneous-commands-to-know">Other Miscellaneous Commands To Know</h2>
<h3 id="shell">Shell</h3>
<p>To drop into a shell (in the Django Docker container) run:</p>
<div class="highlight"><pre><span></span><code>➜<span class="w"> </span>invoke<span class="w"> </span>cli
</code></pre></div>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.instant", "toc.follow", "toc.integrate", "navigation.tracking"], "search": "../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
    
  </body>
</html>